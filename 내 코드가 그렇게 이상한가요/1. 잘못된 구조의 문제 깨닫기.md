
## 의미를 알 수 없는 이름

기술을 기반으로 이름을 붙이는 것을 기술 중심 명명이라고 부릅니다.
이해하기 어려운 이름을 사용하고 이러한 위험을 줄이고자 스프레드시트 등을 사용해 일람표를 만들기도 합니다. 각 클래스와 메서드의 역할과 기능을 설명하는 문서입니다. 하지만 이런 문서는 바쁜 업무로 인해 유지 보수가 거의 이루어지지 않습니다.


---

## 이해하기 어렵게 만드는 조건 분기 중첩

if 문 중첩이 많은 경우 코드의 가독성이 나빠집니다. 어디서부터 어디까지가 if 조건문 처리 블록인지 확인하기 힘들기 때문입니다.


---

## 수많은 악마를 만들어 내는 데이터 클래스

```java
public class ContractAmount {
	public int ammountIncludingTax;
	public BigDecimal salesTaxRate;
}
```

위 클래스를 살펴보면 세금이 포함된 금액과 소비세율을 public 인스턴스 변수로 갖고 있으므로, 클래스 밖에서도 데이터를 자유롭게 변경할 수 있는 구조입니다. 이처럼 데이터를 갖고 있기만 하는 클래스를 <span style="color:#ff0000">데이터 클래스</span>라고 부릅니다.

그런데 데이터 클래스에는 데이터뿐만 아니라, 세금이 포함된 금액을 계산하는 로직도 필요합니다. 이러한 계산 로직을 데이터 클래스가 아닌 다른 클래스에 구현하는 일이 벌어지곤 합니다.

작은 규모의 애플리케이션에서는 특별히 문제가 되지 않지만 애플리케이션의 규모가 커진다면 수많은 악마를 불러들입니다.

#### 1) 사양을 변경할 때 송곳니를 드러내는 악마

만약 소비세와 관련된 사양이 변경되었다면 데이터 클래스를 사용하는 해당 로직을 전부 찾아서 수정해주어야 합니다.
이때 실수로 변경하지 않는 부분이 있다면 버그가 생기게 됩니다.

이러한 상황은 데이터를 담고 있는 클래스와 데이터를 사용하는 계산 로직이 멀리 떨어져 있을 때 자주 일어납니다.

> 이처럼 데이터와 로직 등이 분산되어 있는 것을 응집도가 낮은 구조라고 합니다.

#### 2) 코드 중복

관련한 코드가 서로 멀리 떨어져 있으므로 파악하기 힘들기 때문에 의도하지 않게 코드 중복이 발생할 수 있습니다.

#### 3) 수정 누락

코드 중복이 많으면 사양이 변경될 때 중복된 코드를 놓칠 수 있습니다.

#### 4) 가독성 저하

가독성이란 코드의 의도나 처리 흐름을 얼마나 빠르고 정확하게 읽고 이해할 수 있는지를 나타내는 지표입니다. 코드가 분산되어 있기 때문에 가독성이 떨어집니다.

#### 5) 초기화되지 않은 상태 -> 쓰레기 객체

초기화 하지 않은 데이터 클래스를 사용하면 NullPointerException이 발생할 수 있습니다. 이처럼 초기화하지 않으면 쓸모 없는 클래스 또는 초기화하지 않은 상태가 발생할 수 있는 클래스를 안티 패턴 쓰레기 객체라고 부릅니다.

#### 6) 잘못된 값 할당

데이터에 잘못된 값을 쉽게 할당할 수 있는 구조입니다. 따라서 사용하는 곳마다 검사 로직을 해야하기 때문에 코드 중복도 발생하게 됩니다.

> 데이터 클래스가 일으키는 피해를 정리하면 다음과 같습니다.
> 1. 코드 중복
> 2. 수정 누락
> 3. 가독성 저하
> 4. 초기화되지 않은 상태(쓰레기 객체)
> 5. 잘못된 값 할당


---

## 악마 퇴치의 기본

악마를 퇴치하는 방법은 존재합니다.
일단 나쁜 구조의 폐해를 인지해야 합니다. 나쁜 폐해를 인지하면, 어떻게든 대처해야겠다라고 생각하게 됩니다.
이어서 객체 지향의 기본인 클래스를 적절하게 설계해야 합니다.